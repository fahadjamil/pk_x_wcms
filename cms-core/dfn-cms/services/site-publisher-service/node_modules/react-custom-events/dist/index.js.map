{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import { useEffect } from \"react\";\n\ndeclare global {\n    interface Window { _customEventTargetElement: undefined | HTMLDivElement; }\n}\n\nconst getElement = () => {\n    if ( !window._customEventTargetElement ) {\n        window._customEventTargetElement = document.createElement('div');\n    }\n\n    return window._customEventTargetElement;\n}\n\nexport function useCustomEventListener<T>(eventName: string, eventHandler: (data?: T) => void): void {\n    useEffect(() => {\n        const element = getElement();\n        const handleEvent = (event: CustomEvent | Event) => {\n            const data = (event as CustomEvent).detail;\n            eventHandler(data);\n        };\n\n        element.addEventListener(eventName, handleEvent, false);\n\n        return () => {\n            element.removeEventListener(eventName, handleEvent, false);\n        };\n    });\n}\n\nexport function emitCustomEvent<T>(eventName: string, data?: T): void {\n    const element = getElement();\n    const event = new CustomEvent(eventName, { detail: data });\n    element.dispatchEvent(event);\n}"],"names":["useEffect"],"mappings":";;;;AAMA,IAAM,UAAU,GAAG;IACf,IAAK,CAAC,MAAM,CAAC,yBAAyB,EAAG;QACrC,MAAM,CAAC,yBAAyB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;KACpE;IAED,OAAO,MAAM,CAAC,yBAAyB,CAAC;AAC5C,CAAC,CAAA;SAEe,sBAAsB,CAAI,SAAiB,EAAE,YAAgC;IACzFA,eAAS,CAAC;QACN,IAAM,OAAO,GAAG,UAAU,EAAE,CAAC;QAC7B,IAAM,WAAW,GAAG,UAAC,KAA0B;YAC3C,IAAM,IAAI,GAAI,KAAqB,CAAC,MAAM,CAAC;YAC3C,YAAY,CAAC,IAAI,CAAC,CAAC;SACtB,CAAC;QAEF,OAAO,CAAC,gBAAgB,CAAC,SAAS,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;QAExD,OAAO;YACH,OAAO,CAAC,mBAAmB,CAAC,SAAS,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;SAC9D,CAAC;KACL,CAAC,CAAC;AACP,CAAC;SAEe,eAAe,CAAI,SAAiB,EAAE,IAAQ;IAC1D,IAAM,OAAO,GAAG,UAAU,EAAE,CAAC;IAC7B,IAAM,KAAK,GAAG,IAAI,WAAW,CAAC,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;IAC3D,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACjC;;;;;"}